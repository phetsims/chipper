// Copyright 2021-2022, University of Colorado Boulder

/**
 * Generates the tsconfig.json file for typescript compilation.
 *
 * See https://github.com/phetsims/chipper/issues/63
 *
 * @author Sam Reid (PhET Interactive Simulations)
 */

// modules
const fixEOL = require( './fixEOL' );
const grunt = require( 'grunt' );

/**
 * @param {string} repo
 *
 * @returns {Promise}
 */
module.exports = async function( repo ) {

  const string = `// This file was automatically generated by grunt update
{
  "extends": "../chipper/tsconfig-core.json",
  "include": [
    "js/**/*",
    "images/**/*",
    "mipmaps/**/*",
    "sounds/**/*"
  ]
}`;

  const outputFile = `../${repo}/tsconfig.json`;

  // Write to the repository's root directory.
  grunt.file.write( outputFile, fixEOL( string ) );
};